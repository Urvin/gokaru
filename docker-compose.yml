version: "3"

services:
  gokaru:
    build:
      context: .
      dockerfile: Dockerfile
      args:
          MODULE_PATH: github.com/urvin/gokaru
    environment:
      - GOKARU_STORAGE_PATH=/var/gokaru/storage/
    ports:
      - "8101:8101"
    restart: unless-stopped
    volumes:
      - "./:/go/src/github.com/urvin/gokaru"
      - "./storage/:/var/gokaru/storage/:z"
      - "./logs/:/var/log/gokaru/:z"